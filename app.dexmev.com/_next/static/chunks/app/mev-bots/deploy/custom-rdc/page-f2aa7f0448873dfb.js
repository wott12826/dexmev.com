(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{3020:function(t,o,e){Promise.resolve().then(e.bind(e,2332))},2332:function(t,o,e){"use strict";e.r(o),e.d(o,{default:function(){return p}});var n=e(7437),l=e(2265),i=e(4222),a=e(5796),_=e(6420),s=e(6186),c=e(7038),u=e(8815),r=e(5515),d=e.n(r);function p(){var t,o,e,r,p,v,f,m,b,x,g;let{bots:h}=(0,s.r)(),y=(0,c.v)(),[w,j]=(0,l.useState)((null==h?void 0:h.Custom)||null),[k,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(null==h?void 0:h.Custom)&&j(h.Custom)},[null==h?void 0:h.Custom]);let S=(t,o)=>{j(e=>e?{...e,[t]:o}:null)},N=async()=>{if(w)try{let t=(0,u.e)("auth_token"),o=new URLSearchParams({mode:"".concat((null==w?void 0:w.mode)||0),jito_only:"".concat((null==w?void 0:w.jito_only)||0),slippage:"".concat((null==w?void 0:w.slippage)||0),advance_attacks:"".concat((null==w?void 0:w.advance_attacks)||0),node_status:"".concat(JSON.stringify(null==w?void 0:w.node_status)),rdc_settings:"".concat(JSON.stringify(null==w?void 0:w.rdc_settings)),enable_jito:"".concat((null==w?void 0:w.enable_jito)||0),enable_simulation:"".concat((null==w?void 0:w.enable_simulation)||0),auto_restart:"".concat((null==w?void 0:w.auto_restart)||0),max_compute_time:"".concat((null==w?void 0:w.max_compute_time)||0),skip_same_opportunity:"".concat((null==w?void 0:w.skip_same_opportunity)||0),pay_fee_with_profit:"".concat((null==w?void 0:w.pay_fee_with_profit)||0),jupiter_rpc:"".concat((null==w?void 0:w.jupiter_rpc)||0),mint_count_from_birdeye_trending:"".concat((null==w?void 0:w.mint_count_from_birdeye_trending)||0),mint_count_from_gecko:"".concat((null==w?void 0:w.mint_count_from_gecko)||0),webserver_thread_count:"".concat((null==w?void 0:w.webserver_thread_count)||0),jup_max_accounts:"".concat((null==w?void 0:w.jup_max_accounts)||0),yellowstone_grpc:"".concat((null==w?void 0:w.yellowstone_grpc)||0),enable_block_engines:"".concat((null==w?void 0:w.enable_block_engines)||0),max_tip:"".concat((null==w?void 0:w.max_tip)||0),use_separate_tip:"".concat((null==w?void 0:w.use_separate_tip)||0),use_different_tx:"".concat((null==w?void 0:w.use_different_tx)||0),use_different_tip_account:"".concat((null==w?void 0:w.use_different_tip_account)||0),block_engines:"".concat(JSON.stringify(null==w?void 0:w.block_engines)),attacks:"".concat(JSON.stringify(null==w?void 0:w.attacks)),pools:"".concat(JSON.stringify(null==w?void 0:w.pools)),enable_flashloan:"".concat((null==w?void 0:w.enable_flashloan)||0),flashloan_provider:"".concat(JSON.stringify(null==w?void 0:w.flashloan_provider)),wrap_sol_amount:"".concat((null==w?void 0:w.wrap_sol_amount)||0)}).toString();console.log("Отправляемые данные:",o);let e=await fetch("https://api.dexmev.com/mevbots/update?type=Custom",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",...t?{Authorization:t}:{}},body:o});if(!e.ok){let t=await e.json();throw Error("Failed to update Custom bot: ".concat(t.error))}let n=await e.json();console.log(n),d().fire({title:"Bot update",text:"".concat(n.message),icon:"success",color:"#ffffff",background:"#222326",iconColor:"#00ff94",customClass:{popup:"rounded-[18px] p-[1px] shadow-main bg-[#2e2e3e] pb-6",htmlContainer:"rounded-[17px] p-5 text-white",title:"text-xl font-bold text-white",confirmButton:"bg-gradient-to-br from-[#FF00FF] to-[#930093] p-px shadow-magenta-btn text-white px-6 py-2 rounded-xl hover:bg-pink/90 active:scale-[97%] opacity-90 transition-opacity hover:opacity-100"},confirmButtonText:"OK",buttonsStyling:!1}),setTimeout(()=>{window.location.href="/mev-bots/"},2e3),C(!1)}catch(e){var t,o;console.error("Update error:",e),d().fire({title:"Update error!",text:"".concat(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error),icon:"error",color:"#ffffff",background:"#222326",iconColor:"#ff4c4c",customClass:{popup:"rounded-[18px] p-[1px] shadow-main bg-[#2e2e3e] pb-6",htmlContainer:"rounded-[17px] p-5 text-white",title:"text-xl font-bold text-white",confirmButton:"bg-gradient-to-br from-[#FF00FF] to-[#930093] p-px shadow-magenta-btn text-white px-6 py-2 rounded-xl hover:bg-pink/90 active:scale-[97%] opacity-90 transition-opacity hover:opacity-100"},confirmButtonText:"OK",buttonsStyling:!1})}};return(0,n.jsxs)("div",{className:"flex flex-col gap-[30px]",children:[(0,n.jsx)(a.ti,{}),(0,n.jsx)(i.yo,{account_balance:null==y?void 0:y.balance,bot_balance:(null==w?void 0:w.pending_balance)!==void 0&&w.pending_balance>0?null==w?void 0:w.pending_balance:null==w?void 0:w.profit_balance}),(0,n.jsx)(i.$U,{title:"MevDex Node Bot Settings",onSave:N}),(0,n.jsxs)("div",{className:"flex gap-[30px]",children:[(0,n.jsxs)("div",{className:"flex w-[392px] flex-col gap-[30px]",children:[(0,n.jsx)(i._S,{jitoOnly:(null==w?void 0:w.jito_only)===1,slippage:null==w?void 0:w.slippage,advance_attacks:null!==(t=null==w?void 0:w.advance_attacks)&&void 0!==t?t:void 0,onChange:(t,o)=>{"jitoOnly"===t&&S("jito_only",o?1:0),"slippage"===t&&S("slippage",o),"advance_attacks"===t&&S("advance_attacks",o)}}),(0,n.jsx)(i.qb,{title:"Node Status",secondTitle:"Custom Node",enableApiInput:!0,status:null==w?void 0:w.status.toString(),nodeStatus:null==w?void 0:w.node_status,onChange:(t,o)=>{"node_status"===t&&S("node_status",o)}}),(0,n.jsx)(i.pE,{title:"RDC Settings",type:null!==(o=null==w?void 0:w.type)&&void 0!==o?o:"Custom",rdc_settings:null==w?void 0:w.rdc_settings,isEditable:!0,onChange:(t,o)=>{"rdc_settings"===t&&S("rdc_settings",o)}}),(0,n.jsx)(i.rf,{enableJitoRpc:(null==w?void 0:w.enable_jito_rpc)===1,enableSimulation:(null==w?void 0:w.enable_simulation)===1,auto_restart:null!==(e=null==w?void 0:w.auto_restart)&&void 0!==e?e:void 0,max_compute_time:null!==(r=null==w?void 0:w.max_compute_time)&&void 0!==r?r:void 0,skip_same_opportunity:null!==(p=null==w?void 0:w.skip_same_opportunity)&&void 0!==p?p:void 0,pay_fee_with_profit:null!==(v=null==w?void 0:w.pay_fee_with_profit)&&void 0!==v?v:void 0,isEditable:!0,onChange:(t,o)=>{"enable_jito"===t&&S("enable_jito",o?1:0),"enable_simulation"===t&&S("enable_simulation",o?1:0),"auto_restart"===t&&S("auto_restart",o),"max_compute_time"===t&&S("max_compute_time",o),"skip_same_opportunity"===t&&S("skip_same_opportunity",o),"pay_fee_with_profit"===t&&S("pay_fee_with_profit",o)}})]}),(0,n.jsxs)("div",{className:"flex w-[500px] flex-col gap-[30px]",children:[(0,n.jsx)(_.Z,{jupiter_rpc:null!==(f=null==w?void 0:w.jupiter_rpc)&&void 0!==f?f:void 0,mint_count_from_birdeye_trending:null!==(m=null==w?void 0:w.mint_count_from_birdeye_trending)&&void 0!==m?m:void 0,mint_count_from_gecko:null!==(b=null==w?void 0:w.mint_count_from_gecko)&&void 0!==b?b:void 0,webserver_thread_count:null!==(x=null==w?void 0:w.webserver_thread_count)&&void 0!==x?x:void 0,jup_max_account:null!==(g=null==w?void 0:w.jup_max_accounts)&&void 0!==g?g:void 0,yellowstone_grpc:(null==w?void 0:w.yellowstone_grpc)===1,isEditable:!0,onChange:(t,o)=>{"jupiter_rpc"===t&&S("jupiter_rpc",o),"mint_count_from_birdeye_trending"===t&&S("mint_count_from_birdeye_trending",o),"mint_count_from_gecko"===t&&S("mint_count_from_gecko",o),"webserver_thread_count"===t&&S("webserver_thread_count",o),"jup_max_accounts"===t&&S("jup_max_accounts",o),"yellowstone_grpc"===t&&S("yellowstone_grpc",o?1:0)}}),(0,n.jsx)(i.FD,{enableJito:(null==w?void 0:w.enable_jito)===1,enableBlockEngines:(null==w?void 0:w.enable_block_engines)===1,max_tip:null==w?void 0:w.max_tip,use_separate_tip:(null==w?void 0:w.use_separate_tip)===1,use_different_tx:(null==w?void 0:w.use_different_tx)===1,use_different_tip_account:(null==w?void 0:w.use_different_tip_account)===1,block_engines:null==w?void 0:w.block_engines,isEditable:!0,onChange:(t,o)=>{"enable_jito"===t&&S("enable_jito",o?1:0),"enable_block_engines"===t&&S("enable_block_engines",o?1:0),"max_tip"===t&&S("max_tip",o),"use_separate_tip"===t&&S("use_separate_tip",o?1:0),"use_different_tx"===t&&S("use_different_tx",o?1:0),"use_different_tip_account"===t&&S("use_different_tip_account",o?1:0),"block_engines"===t&&S("block_engines",o)}})]}),(0,n.jsxs)("div",{className:"flex w-[288px] flex-col gap-[30px]",children:[(0,n.jsx)(i.AO,{smartAI:!0,attacks:null==w?void 0:w.attacks,isEditable:!0,onChange:(t,o)=>{"attacks"===t&&S("attacks",o)}}),(0,n.jsx)(i.jf,{pools:null==w?void 0:w.pools,chosen_pools_24h_volume:null==w?void 0:w.chosen_pools_24h_volume,isEditable:!0,onChange:(t,o)=>{"pools"===t&&S("pools",o)}}),(0,n.jsx)(i.y1,{enableFlashloan:(null==w?void 0:w.enable_flashloan)===1,flashloan_provider:null==w?void 0:w.flashloan_provider,wrap_sol_amount:null==w?void 0:w.wrap_sol_amount,isEditable:!0,onChange:(t,o)=>{"enable_flashloan"===t&&S("enable_flashloan",o?1:0),"flashloan_provider"===t&&S("flashloan_provider",o),"wrap_sol_amount"===t&&S("wrap_sol_amount",o)}})]})]})]})}}},function(t){t.O(0,[762,461,972,40,63,105,11,4,724,971,117,744],function(){return t(t.s=3020)}),_N_E=t.O()}]);